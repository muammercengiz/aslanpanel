{"ast":null,"code":"import _objectSpread from\"C:/Users/Muammer/Desktop/aslanpanel/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import{getPersonelIzinleri,createIzin,deleteIzin}from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PersonelIzinleri=()=>{const{id}=useParams();const[formData,setFormData]=useState({baslangic:\"\",bitis:\"\",aciklama:\"\"});const[izinler,setIzinler]=useState([]);const izinleriGetir=()=>{getPersonelIzinleri(id).then(res=>setIzinler(res.data)).catch(err=>console.error(\"İzin verileri alınamadı:\",err));};useEffect(()=>{izinleriGetir();},[id]);const handleChange=e=>{setFormData(_objectSpread(_objectSpread({},formData),{},{[e.target.name]:e.target.value}));};const handleSubmit=e=>{e.preventDefault();createIzin(_objectSpread(_objectSpread({},formData),{},{personel_id:id})).then(()=>{setFormData({baslangic:\"\",bitis:\"\",aciklama:\"\"});izinleriGetir();}).catch(err=>console.error(\"İzin ekleme hatası:\",err));};const handleSil=izinId=>{deleteIzin(izinId).then(()=>izinleriGetir()).catch(err=>console.error(\"Silme hatası:\",err));};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 max-w-4xl mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"Personel \\u0130zin Ekle\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"bg-white p-4 rounded shadow mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"baslangic\",value:formData.baslangic,onChange:handleChange,className:\"border p-2 rounded\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"bitis\",value:formData.bitis,onChange:handleChange,className:\"border p-2 rounded\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"aciklama\",value:formData.aciklama,onChange:handleChange,placeholder:\"A\\xE7\\u0131klama\",className:\"border p-2 rounded\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-blue-600 text-white px-4 py-2 rounded w-full\",children:\"\\u0130zin Kaydet\"})]}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-semibold mb-2\",children:\"\\u0130zin Ge\\xE7mi\\u015Fi\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-left border-collapse bg-white shadow rounded\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Ba\\u015Flang\\u0131\\xE7\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"Biti\\u015F\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"A\\xE7\\u0131klama\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-2\",children:\"\\u0130\\u015Flem\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[izinler.map(izin=>{var _izin$baslangic,_izin$bitis;return/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:(_izin$baslangic=izin.baslangic)===null||_izin$baslangic===void 0?void 0:_izin$baslangic.substring(0,10)}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:(_izin$bitis=izin.bitis)===null||_izin$bitis===void 0?void 0:_izin$bitis.substring(0,10)}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:izin.aciklama}),/*#__PURE__*/_jsx(\"td\",{className:\"p-2\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleSil(izin.id),className:\"bg-red-600 text-white px-3 py-1 rounded\",children:\"Sil\"})})]},izin.id);}),izinler.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"4\",className:\"text-center p-3 text-gray-500\",children:\"Kay\\u0131tl\\u0131 izin bulunmamaktad\\u0131r.\"})})]})]})})]});};export default PersonelIzinleri;","map":{"version":3,"names":["React","useEffect","useState","useParams","getPersonelIzinleri","createIzin","deleteIzin","jsx","_jsx","jsxs","_jsxs","PersonelIzinleri","id","formData","setFormData","baslangic","bitis","aciklama","izinler","setIzinler","izinleriGetir","then","res","data","catch","err","console","error","handleChange","e","_objectSpread","target","name","value","handleSubmit","preventDefault","personel_id","handleSil","izinId","className","children","onSubmit","type","onChange","required","placeholder","map","izin","_izin$baslangic","_izin$bitis","substring","onClick","length","colSpan"],"sources":["C:/Users/Muammer/Desktop/aslanpanel/Frontend/src/pages/PersonelIzinleri.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { getPersonelIzinleri, createIzin, deleteIzin } from \"../api\";\r\n\r\nconst PersonelIzinleri = () => {\r\n  const { id } = useParams();\r\n  const [formData, setFormData] = useState({\r\n    baslangic: \"\",\r\n    bitis: \"\",\r\n    aciklama: \"\",\r\n  });\r\n  const [izinler, setIzinler] = useState([]);\r\n\r\n  const izinleriGetir = () => {\r\n    getPersonelIzinleri(id)\r\n      .then((res) => setIzinler(res.data))\r\n      .catch((err) => console.error(\"İzin verileri alınamadı:\", err));\r\n  };\r\n\r\n  useEffect(() => {\r\n    izinleriGetir();\r\n  }, [id]);\r\n\r\n  const handleChange = (e) => {\r\n    setFormData({ ...formData, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    createIzin({ ...formData, personel_id: id })\r\n      .then(() => {\r\n        setFormData({ baslangic: \"\", bitis: \"\", aciklama: \"\" });\r\n        izinleriGetir();\r\n      })\r\n      .catch((err) => console.error(\"İzin ekleme hatası:\", err));\r\n  };\r\n\r\n  const handleSil = (izinId) => {\r\n    deleteIzin(izinId)\r\n      .then(() => izinleriGetir())\r\n      .catch((err) => console.error(\"Silme hatası:\", err));\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-4xl mx-auto\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Personel İzin Ekle</h2>\r\n\r\n      <form onSubmit={handleSubmit} className=\"bg-white p-4 rounded shadow mb-6\">\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4\">\r\n          <input\r\n            type=\"date\"\r\n            name=\"baslangic\"\r\n            value={formData.baslangic}\r\n            onChange={handleChange}\r\n            className=\"border p-2 rounded\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"date\"\r\n            name=\"bitis\"\r\n            value={formData.bitis}\r\n            onChange={handleChange}\r\n            className=\"border p-2 rounded\"\r\n            required\r\n          />\r\n          <input\r\n            type=\"text\"\r\n            name=\"aciklama\"\r\n            value={formData.aciklama}\r\n            onChange={handleChange}\r\n            placeholder=\"Açıklama\"\r\n            className=\"border p-2 rounded\"\r\n          />\r\n        </div>\r\n        <button\r\n          type=\"submit\"\r\n          className=\"bg-blue-600 text-white px-4 py-2 rounded w-full\"\r\n        >\r\n          İzin Kaydet\r\n        </button>\r\n      </form>\r\n\r\n      <h3 className=\"text-xl font-semibold mb-2\">İzin Geçmişi</h3>\r\n      <div className=\"overflow-x-auto\">\r\n        <table className=\"w-full text-left border-collapse bg-white shadow rounded\">\r\n          <thead className=\"bg-gray-100\">\r\n            <tr>\r\n              <th className=\"p-2\">Başlangıç</th>\r\n              <th className=\"p-2\">Bitiş</th>\r\n              <th className=\"p-2\">Açıklama</th>\r\n              <th className=\"p-2\">İşlem</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {izinler.map((izin) => (\r\n              <tr key={izin.id} className=\"border-t hover:bg-gray-50\">\r\n                <td className=\"p-2\">{izin.baslangic?.substring(0, 10)}</td>\r\n                <td className=\"p-2\">{izin.bitis?.substring(0, 10)}</td>\r\n                <td className=\"p-2\">{izin.aciklama}</td>\r\n                <td className=\"p-2\">\r\n                  <button\r\n                    onClick={() => handleSil(izin.id)}\r\n                    className=\"bg-red-600 text-white px-3 py-1 rounded\"\r\n                  >\r\n                    Sil\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n            {izinler.length === 0 && (\r\n              <tr>\r\n                <td colSpan=\"4\" className=\"text-center p-3 text-gray-500\">\r\n                  Kayıtlı izin bulunmamaktadır.\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PersonelIzinleri;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}