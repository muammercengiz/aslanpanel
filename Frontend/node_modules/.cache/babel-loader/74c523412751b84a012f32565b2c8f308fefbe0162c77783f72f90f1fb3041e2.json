{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import{hareketKaydet}from\"../utils/hareket\";import{getKullanicilar,deleteKullanici}from\"../api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Kullanicilar(){const[kullanicilar,setKullanicilar]=useState([]);const[yenile,setYenile]=useState(false);useEffect(()=>{getKullanicilar().then(res=>setKullanicilar(res.data)).catch(err=>console.error(err));},[yenile]);const handleDelete=async id=>{if(window.confirm(\"Bu kullanıcı silinsin mi?\")){try{await deleteKullanici(id);await hareketKaydet(\"Kullanıcı Silme\",\"ID: \".concat(id,\" kullan\\u0131c\\u0131s\\u0131 silindi\"));setYenile(!yenile);}catch(err){console.error(err);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold\",children:\"Kullan\\u0131c\\u0131lar\"}),/*#__PURE__*/_jsx(Link,{to:\"/kullanici-ekle\",className:\"bg-green-600 text-white px-4 py-2 rounded\",children:\"+ Yeni Kullan\\u0131c\\u0131\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto bg-white rounded shadow\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-left border-collapse\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-100 text-gray-700\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"Ad Soyad\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"Kullan\\u0131c\\u0131 Ad\\u0131\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"Rol\"}),/*#__PURE__*/_jsx(\"th\",{className:\"p-3\",children:\"\\u0130\\u015Flemler\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[kullanicilar.map((k,index)=>/*#__PURE__*/_jsxs(\"tr\",{className:\"border-t hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:index+1}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-3\",children:[k.ad,\" \",k.soyad]}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:k.kullanici_adi}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:k.email}),/*#__PURE__*/_jsx(\"td\",{className:\"p-3\",children:k.rol}),/*#__PURE__*/_jsxs(\"td\",{className:\"p-3 space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(k.id),className:\"bg-red-500 text-white px-3 py-1 rounded\",children:\"Sil\"}),/*#__PURE__*/_jsx(Link,{to:\"/kullanici/\".concat(k.id),className:\"bg-blue-500 text-white px-3 py-1 rounded\",children:\"Detay\"}),/*#__PURE__*/_jsx(Link,{to:\"/kullanici-hareketleri/\".concat(k.id),className:\"bg-yellow-400 text-white px-3 py-1 rounded\",children:\"Hareketler\"})]})]},k.id)),kullanicilar.length===0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"6\",className:\"p-4 text-center text-gray-500\",children:\"Hen\\xFCz kullan\\u0131c\\u0131 eklenmedi.\"})})]})]})})]});}export default Kullanicilar;","map":{"version":3,"names":["React","useEffect","useState","Link","hareketKaydet","getKullanicilar","deleteKullanici","jsx","_jsx","jsxs","_jsxs","Kullanicilar","kullanicilar","setKullanicilar","yenile","setYenile","then","res","data","catch","err","console","error","handleDelete","id","window","confirm","concat","className","children","to","map","k","index","ad","soyad","kullanici_adi","email","rol","onClick","length","colSpan"],"sources":["C:/Users/Muammer/Desktop/aslanpanel/Frontend/src/pages/Kullanicilar.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { hareketKaydet } from \"../utils/hareket\";\r\nimport { getKullanicilar, deleteKullanici } from \"../api\";\r\n\r\nfunction Kullanicilar() {\r\n  const [kullanicilar, setKullanicilar] = useState([]);\r\n  const [yenile, setYenile] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getKullanicilar()\r\n      .then((res) => setKullanicilar(res.data))\r\n      .catch((err) => console.error(err));\r\n  }, [yenile]);\r\n\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm(\"Bu kullanıcı silinsin mi?\")) {\r\n      try {\r\n        await deleteKullanici(id);\r\n        await hareketKaydet(\"Kullanıcı Silme\", `ID: ${id} kullanıcısı silindi`);\r\n        setYenile(!yenile);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-2xl font-bold\">Kullanıcılar</h2>\r\n        <Link to=\"/kullanici-ekle\" className=\"bg-green-600 text-white px-4 py-2 rounded\">\r\n          + Yeni Kullanıcı\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"overflow-x-auto bg-white rounded shadow\">\r\n        <table className=\"w-full text-left border-collapse\">\r\n          <thead className=\"bg-gray-100 text-gray-700\">\r\n            <tr>\r\n              <th className=\"p-3\">#</th>\r\n              <th className=\"p-3\">Ad Soyad</th>\r\n              <th className=\"p-3\">Kullanıcı Adı</th>\r\n              <th className=\"p-3\">Email</th>\r\n              <th className=\"p-3\">Rol</th>\r\n              <th className=\"p-3\">İşlemler</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {kullanicilar.map((k, index) => (\r\n              <tr key={k.id} className=\"border-t hover:bg-gray-50\">\r\n                <td className=\"p-3\">{index + 1}</td>\r\n                <td className=\"p-3\">{k.ad} {k.soyad}</td>\r\n                <td className=\"p-3\">{k.kullanici_adi}</td>\r\n                <td className=\"p-3\">{k.email}</td>\r\n                <td className=\"p-3\">{k.rol}</td>\r\n                <td className=\"p-3 space-x-2\">\r\n                  <button\r\n                    onClick={() => handleDelete(k.id)}\r\n                    className=\"bg-red-500 text-white px-3 py-1 rounded\"\r\n                  >\r\n                    Sil\r\n                  </button>\r\n                  <Link\r\n                    to={`/kullanici/${k.id}`}\r\n                    className=\"bg-blue-500 text-white px-3 py-1 rounded\"\r\n                  >\r\n                    Detay\r\n                  </Link>\r\n                  <Link\r\n                    to={`/kullanici-hareketleri/${k.id}`} \r\n                    className=\"bg-yellow-400 text-white px-3 py-1 rounded\"\r\n                  >\r\n                    Hareketler\r\n                  </Link>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n            {kullanicilar.length === 0 && (\r\n              <tr>\r\n                <td colSpan=\"6\" className=\"p-4 text-center text-gray-500\">\r\n                  Henüz kullanıcı eklenmedi.\r\n                </td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Kullanicilar;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,aAAa,KAAQ,kBAAkB,CAChD,OAASC,eAAe,CAAEC,eAAe,KAAQ,QAAQ,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1D,QAAS,CAAAC,YAAYA,CAAA,CAAG,CACtB,KAAM,CAACC,YAAY,CAAEC,eAAe,CAAC,CAAGX,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACY,MAAM,CAAEC,SAAS,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAE3CD,SAAS,CAAC,IAAM,CACdI,eAAe,CAAC,CAAC,CACdW,IAAI,CAAEC,GAAG,EAAKJ,eAAe,CAACI,GAAG,CAACC,IAAI,CAAC,CAAC,CACxCC,KAAK,CAAEC,GAAG,EAAKC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAAC,CACvC,CAAC,CAAE,CAACN,MAAM,CAAC,CAAC,CAEZ,KAAM,CAAAS,YAAY,CAAG,KAAO,CAAAC,EAAE,EAAK,CACjC,GAAIC,MAAM,CAACC,OAAO,CAAC,2BAA2B,CAAC,CAAE,CAC/C,GAAI,CACF,KAAM,CAAApB,eAAe,CAACkB,EAAE,CAAC,CACzB,KAAM,CAAApB,aAAa,CAAC,iBAAiB,QAAAuB,MAAA,CAASH,EAAE,uCAAsB,CAAC,CACvET,SAAS,CAAC,CAACD,MAAM,CAAC,CACpB,CAAE,MAAOM,GAAG,CAAE,CACZC,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CACpB,CACF,CACF,CAAC,CAED,mBACEV,KAAA,QAAKkB,SAAS,CAAC,KAAK,CAAAC,QAAA,eAClBnB,KAAA,QAAKkB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDrB,IAAA,OAAIoB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,wBAAY,CAAI,CAAC,cACpDrB,IAAA,CAACL,IAAI,EAAC2B,EAAE,CAAC,iBAAiB,CAACF,SAAS,CAAC,2CAA2C,CAAAC,QAAA,CAAC,4BAEjF,CAAM,CAAC,EACJ,CAAC,cAENrB,IAAA,QAAKoB,SAAS,CAAC,yCAAyC,CAAAC,QAAA,cACtDnB,KAAA,UAAOkB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eACjDrB,IAAA,UAAOoB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,cAC1CnB,KAAA,OAAAmB,QAAA,eACErB,IAAA,OAAIoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,GAAC,CAAI,CAAC,cAC1BrB,IAAA,OAAIoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,UAAQ,CAAI,CAAC,cACjCrB,IAAA,OAAIoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,8BAAa,CAAI,CAAC,cACtCrB,IAAA,OAAIoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,OAAK,CAAI,CAAC,cAC9BrB,IAAA,OAAIoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,KAAG,CAAI,CAAC,cAC5BrB,IAAA,OAAIoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,oBAAQ,CAAI,CAAC,EAC/B,CAAC,CACA,CAAC,cACRnB,KAAA,UAAAmB,QAAA,EACGjB,YAAY,CAACmB,GAAG,CAAC,CAACC,CAAC,CAAEC,KAAK,gBACzBvB,KAAA,OAAekB,SAAS,CAAC,2BAA2B,CAAAC,QAAA,eAClDrB,IAAA,OAAIoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAEI,KAAK,CAAG,CAAC,CAAK,CAAC,cACpCvB,KAAA,OAAIkB,SAAS,CAAC,KAAK,CAAAC,QAAA,EAAEG,CAAC,CAACE,EAAE,CAAC,GAAC,CAACF,CAAC,CAACG,KAAK,EAAK,CAAC,cACzC3B,IAAA,OAAIoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAEG,CAAC,CAACI,aAAa,CAAK,CAAC,cAC1C5B,IAAA,OAAIoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAEG,CAAC,CAACK,KAAK,CAAK,CAAC,cAClC7B,IAAA,OAAIoB,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAEG,CAAC,CAACM,GAAG,CAAK,CAAC,cAChC5B,KAAA,OAAIkB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC3BrB,IAAA,WACE+B,OAAO,CAAEA,CAAA,GAAMhB,YAAY,CAACS,CAAC,CAACR,EAAE,CAAE,CAClCI,SAAS,CAAC,yCAAyC,CAAAC,QAAA,CACpD,KAED,CAAQ,CAAC,cACTrB,IAAA,CAACL,IAAI,EACH2B,EAAE,eAAAH,MAAA,CAAgBK,CAAC,CAACR,EAAE,CAAG,CACzBI,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CACrD,OAED,CAAM,CAAC,cACPrB,IAAA,CAACL,IAAI,EACH2B,EAAE,2BAAAH,MAAA,CAA4BK,CAAC,CAACR,EAAE,CAAG,CACrCI,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CACvD,YAED,CAAM,CAAC,EACL,CAAC,GAzBEG,CAAC,CAACR,EA0BP,CACL,CAAC,CACDZ,YAAY,CAAC4B,MAAM,GAAK,CAAC,eACxBhC,IAAA,OAAAqB,QAAA,cACErB,IAAA,OAAIiC,OAAO,CAAC,GAAG,CAACb,SAAS,CAAC,+BAA+B,CAAAC,QAAA,CAAC,yCAE1D,CAAI,CAAC,CACH,CACL,EACI,CAAC,EACH,CAAC,CACL,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAlB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}